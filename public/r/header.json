{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "header",
  "type": "registry:block",
  "title": "Header",
  "description": "A simple header component.",
  "registryDependencies": [
    "button",
    "badge",
    "navigation-menu",
    "sheet"
  ],
  "files": [
    {
      "path": "src/blocks/landing-page/header/index.tsx",
      "content": "import { ReactNode } from \"react\";\nimport {\n  NavigationMenu,\n  NavigationMenuItem,\n  NavigationMenuLink,\n  NavigationMenuList,\n  navigationMenuTriggerStyle,\n} from \"@/components/ui/navigation-menu\";\nimport { Sheet, SheetContent, SheetTrigger, SheetClose } from \"@/components/ui/sheet\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Menu } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { getChildrenByType } from \"@/lib/get-children-by-type\";\nimport { AnimatedThemeToggler } from \"@/components/ui/animated-theme-toggler\";\n\nexport interface HeaderProps {\n  navigationLinks: {\n    id: string;\n    label: string;\n    href: string;\n  }[];\n  children?: ReactNode;\n}\n\ninterface HeaderAuthSectionProps {\n  children: ReactNode;\n}\n\ninterface HeaderAuthSectionMobileProps {\n  children: ReactNode;\n}\n\nfunction HeaderAuthSection({ children }: HeaderAuthSectionProps): ReactNode | null {\n  if (!children) {\n    return null;\n  }\n  return <>{children}</>;\n}\n\nfunction HeaderAuthSectionMobile({ children }: HeaderAuthSectionMobileProps): ReactNode | null {\n  if (!children) {\n    return null;\n  }\n  return <>{children}</>;\n}\n\nexport function Header({ navigationLinks, children }: HeaderProps): ReactNode {\n  const authSection = getChildrenByType<HeaderAuthSectionProps>(children, HeaderAuthSection);\n  const authSectionMobile = getChildrenByType<HeaderAuthSectionMobileProps>(children, HeaderAuthSectionMobile);\n\n  return (\n    <header className=\"top-0 left-0 right-0 z-50 transition-all duration-300 bg-background py-2\">\n      <div className=\"container max-w-6xl mx-auto px-4 lg:px-0 flex items-center justify-between transition-all duration-300 h-16\">\n        <div className=\"transition-transform duration-300\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-primary rounded-lg flex items-center justify-center\">\n              <span className=\"text-primary-foreground font-bold text-sm\">F</span>\n            </div>\n            <span className=\"font-bold text-xl text-foreground\">Foundation Builder</span>\n          </div>\n        </div>\n\n        <div className=\"hidden md:flex items-center justify-end flex-1 gap-4\">\n          <NavigationMenu>\n            <NavigationMenuList>\n              {navigationLinks.map((link) => (\n                <NavigationMenuItem key={link.id}>\n                  <NavigationMenuLink\n                    className={cn(navigationMenuTriggerStyle(), \"cursor-pointer\", \"bg-background text-foreground\")}\n                    href={link.href}\n                  >\n                    {link.label}\n                  </NavigationMenuLink>\n                </NavigationMenuItem>\n              ))}\n            </NavigationMenuList>\n          </NavigationMenu>\n\n          <AnimatedThemeToggler />\n\n          <div className=\"flex items-center gap-4\">{authSection?.props.children}</div>\n        </div>\n\n        <div className=\"md:hidden ml-auto\">\n          <Sheet>\n            <SheetTrigger asChild className=\"md:hidden\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"p-2\">\n                <Menu className=\"h-5 w-5\" />\n                <span className=\"sr-only\">Ouvrir le menu</span>\n              </Button>\n            </SheetTrigger>\n            <SheetContent side=\"right\" className=\"w-[300px] sm:w-[400px]\">\n              <nav className=\"flex flex-col space-y-4 mt-8\">\n                {navigationLinks.map((link) => (\n                  <SheetClose asChild key={link.id}>\n                    <Button variant=\"ghost\" className=\"justify-start text-left h-auto p-3\" asChild>\n                      <a href={link.href}>{link.label}</a>\n                    </Button>\n                  </SheetClose>\n                ))}\n              </nav>\n\n              <div className=\"mt-8 pt-8 border-t border-border space-y-4\">\n                <Badge variant=\"secondary\" className=\"w-fit\">\n                  Authentification\n                </Badge>\n                <div className=\"flex flex-col space-y-3\">{authSectionMobile?.props.children}</div>\n              </div>\n            </SheetContent>\n          </Sheet>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nHeader.AuthSection = HeaderAuthSection;\nHeader.AuthSectionMobile = HeaderAuthSectionMobile;\n",
      "type": "registry:block",
      "target": "src/blocks/landing-page/header/ui.tsx"
    },
    {
      "path": "src/lib/get-children-by-type.ts",
      "content": "import { ReactNode, ReactElement, isValidElement, Children } from \"react\";\n\nexport function getChildrenByType<T>(\n  children: ReactNode,\n  targetType: React.ComponentType<T>\n): ReactElement<T> | undefined {\n  const childrenArray = Children.toArray(children);\n\n  const matchingChild = childrenArray.find((child) => {\n    if (!isValidElement(child)) {\n      return false;\n    }\n\n    return child.type === targetType;\n  });\n\n  if (!matchingChild) {\n    return undefined;\n  }\n\n  return matchingChild as ReactElement<T>;\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "src/components/ui/animated-theme-toggler.tsx",
      "content": "\"use client\";\n\nimport { Moon, SunDim } from \"lucide-react\";\nimport { useState, useRef } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { cn } from \"@/lib/utils\";\n\ntype props = {\n  className?: string;\n};\n\nexport const AnimatedThemeToggler = ({ className }: props) => {\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(false);\n  const buttonRef = useRef<HTMLButtonElement | null>(null);\n  const changeTheme = async () => {\n    if (!buttonRef.current) return;\n\n    await document.startViewTransition(() => {\n      flushSync(() => {\n        const dark = document.documentElement.classList.toggle(\"dark\");\n        setIsDarkMode(dark);\n      });\n    }).ready;\n\n    const { top, left, width, height } =\n      buttonRef.current.getBoundingClientRect();\n    const y = top + height / 2;\n    const x = left + width / 2;\n\n    const right = window.innerWidth - left;\n    const bottom = window.innerHeight - top;\n    const maxRad = Math.hypot(Math.max(left, right), Math.max(top, bottom));\n\n    document.documentElement.animate(\n      {\n        clipPath: [\n          `circle(0px at ${x}px ${y}px)`,\n          `circle(${maxRad}px at ${x}px ${y}px)`,\n        ],\n      },\n      {\n        duration: 700,\n        easing: \"ease-in-out\",\n        pseudoElement: \"::view-transition-new(root)\",\n      },\n    );\n  };\n  return (\n    <button ref={buttonRef} onClick={changeTheme} className={cn(className)}>\n      {isDarkMode ? <SunDim /> : <Moon />}\n    </button>\n  );\n};\n",
      "type": "registry:component"
    }
  ]
}